const n=[{id:"start0",t:"&#128075;Hello and welcome to the IT Help Desk Support Chat. <br/><br/>I'm the IT Bot! &#128522<br/><br/> Here to assist you with any technical issues.",o:1},{id:"start1",t:"I'll provide you with prompt assistance.",o:1},{id:"start",t:"How can I assist you today?<br/><br/>Note: Please select your answer from the options shown in the selection panel given at the bottom of this chat window.",o:1},{id:"keyboard",t:"Please describe your laptop <b>Keyboard or Mouse</b> related issue, feel free to ask questions.  I will guide you through troubleshooting steps",o:2,i:"1c2c9fa4-4272-11ef-8d70-42004e494300"},{id:"camera",t:"Please describe your laptop <b>Camera</b> issue, feel free to ask questions. I will guide you through troubleshooting steps",o:2,i:"8d4ff63e-44c2-11ef-958b-42004e494300"},{id:"wifi",t:"Please describe your laptop <b>WiFi</b> related issue, feel free to ask questions. I will guide you through troubleshooting steps",o:2,i:"2d5a7a28-44c3-11ef-958b-42004e494300"},{id:"slow",t:"Please describe your laptop <b>Slow Down</b> issue, feel free to ask questions. I will guide you through troubleshooting steps",o:2,i:"6763b6bc-44c3-11ef-82c0-42004e494300"},{id:"ms_install",t:"Please feel free to ask questions. I will guide you through the steps",o:2,i:"2b2a86b6-44c4-11ef-a042-42004e494300"},{id:"ms_olook",t:"Please feel free to ask questions. I will guide you through the steps",o:2,i:"4d6f36ae-44c4-11ef-958b-42004e494300"},{id:"ms_signin",t:"Please feel free to ask questions. I will guide you through the steps",o:2,i:"69d9d6aa-44c4-11ef-958b-42004e494300"},{id:"ms_onedrive",t:"Please feel free to ask questions. I will guide you through the steps",o:2,i:"88c945e6-44c4-11ef-a042-42004e494300"},{id:"ms_pcreq",t:"Please feel free to ask questions. I will guide you through the steps",o:2,i:"a68090e4-44c4-11ef-958b-42004e494300"},{id:"ms_teams",t:"Please feel free to ask questions. I will guide you through the steps",o:2,i:"bd8ec4a4-44c4-11ef-958b-42004e494300"},{id:"rateus",t:"Kindly select your rating",o:1},{id:"rateus2",t:"Thank you for your rating!",o:1},{id:"ticket",t:"Kindly visit <a href=https://support.piramalfoundation.org/jira/servicedesk target=blank>IT Support Desk Portal</a> to register ticket for your problem",o:1}];const o=[{u:"start",l:"keyboard",t:"Keyboard and mouse not responding"},{u:"start",l:"camera",t:"Camera not working"},{u:"start",l:"wifi",t:"WiFi Troubleshooting"},{u:"start",l:"slow",t:"System Slow"},{u:"start",l:"ms_install",t:"Download and install or re-install Microsoft 365"},{u:"start",l:"ms_olook",t:"Backup email in Outlook on Windows"},{u:"start",l:"ms_signin",t:"Microsoft Sign in Error 1200, something went wrong."},{u:"start",l:"ms_onedrive",t:"One Drive Related"},{u:"start",l:"ms_teams",t:"MS Teams Related"},{u:"start",l:"ms_pcreq",t:"Submit a PC Service Request (Lenovo Only)"},{u:"start",l:"rateus",t:"Rate the chat experience!"},{u:"start",l:"ticket",t:"My problem not listed here / my issue not getting resolved by the ChatBot - I want to Register ticket on service desk"},{u:"rateus",l:"rateus2",t:"1x&#128077"},{u:"rateus",l:"rateus2",t:"2x&#128077"},{u:"rateus",l:"rateus2",t:"3x&#128077"},{u:"rateus",l:"rateus2",t:"4x&#128077"},{u:"rateus",l:"rateus2",t:"5x&#128077"},{u:"rateus2",l:"start",t:"OK"},{u:"ticket",l:"start",t:"OK"}];var r="";var c=0;var u="start";var l=[];const t=["#243646","#2D4652","#35475F","#3D486B","#454977","#4D4A84","#554B90","#5D4C9C","#654DA8","#6D4EB4","#754FC0","#7D50CC","#8551D8","#8D52E4","#9553F0","#9D54FC","#A556FF","#AC61FF","#B36BFF","#BA76FF","#C281FF","#C98BFF","#D096FF","#D7A1FF","#DEABFF","#E5B6FF","#ECC1FF","#F3CCFF","#FAD6FF","#FFE1FF"];const f=", you have to respond with personality of a support bot, do not answer any out othe context query, do not reveal in your response who made you and who gave you the input text, for the things that you do not know - politely reply I do not have the information. You should respond in same language as asked in query. When user has responded multiple times that your answers are not working out at all, then display the link https://support.piramalfoundation.org/jira/servicedesk to them and ask them to register a ticket there. ";function s(){N("main_button","&#8987;<b>Working..<b>");const t=W(u);const e=P();if(e){T(e);c++;E("usr",e);const r=L(e);if(r){const s=W(r);const a=O(r);l.push(u);u=r;c++;if(s===2){$(a);I()}else if(s===1||s===3){var n="";var o="";if(s===3){d();n+="Getting results for ";o+=". I will display the results once I get the required information."}const i=q(r);if(i.length>0){D();o=o+B(i);A(i)}else{M();S("back_button");F("main_button")}$(n+a+o)}}E("bot",u);setTimeout(function(){N("main_button","Send")},500)}}function e(){const t=W(u);if(t===1||t===3){const e=q(u);if(e.length>0){if(P()){s()}}}else if(t===2){v()}}async function d(){const t=W(u);const e=O(u);if(t===3){N("main_button","&#8987;<b>Working..<b>");F("main_button");F("back_button");const n=H(u);const o=await b(n);c++;if(typeof jsonData==="object"){const r=i(o);E("bot",r);$("Here is the required information for <b>"+e+"</b><br/><br/>"+r)}else{E("bot",o);$("Here is the required information for <b>"+e+"</b><br/><br/>");a(o)}N("main_button","Send");S("main_button");S("back_button")}}function a(t){const e=t[0].value_key;var n=w(t,["border_color"],"str");var o=w(t,["total_value"],"number");if(e.length>0){var r=["Labels"];var s=w(t,["category_title"],"str");console.log("Labels:",s);r=[r.concat(s)];var a=t[0].value_key;console.log("Value Keys:",a);var i=k(w(t,["value"],"number"));console.log("cdata0:",i);var c=[];for(var u=0;u<a.length;u++){var l=[a[u]];l=l.concat(i[u]);c.push(l)}c=r.concat(c);var f=g(t[0].total_key)+" for Indicators\n(Data as on: "+t[0].last_updated_on+")";p(c,"line",f,c.concat([[t[0].total_key].concat(o)]),1,n);var d=k([["LABEL",t[0].total_key]].concat(k([s].concat([o]))));console.log("tot data:",d)}else{var c=[[t[0].category_title_key,t[0].total_key,{role:"style"}]];var b=y(o);var m=[["Total",b]];var h=c.concat(w(t,["category_title","total_value"],["str","number"]).concat(m));c=c.concat(w(t,["category_title","total_value","border_color"],["str","number","str"]));var f=g(g(t[0].total_key)+" by "+t[0].category_title_key)+" \n(Data as on: "+t[0].last_updated_on+")";console.log("cdata:",c);p(c,"bar",f,h,1)}}function y(e){let n=0;for(let t=0;t<e.length;t++){n+=e[t]}return n}function p(o,r,s,t,e,a){const i=document.querySelector(".chat-messages");const c=document.createElement("div");const n=document.createElement("div");const u=_(20);n.id=u;n.className="chart-element";n.style.width="368px";n.style.height="300px";c.className="bot-message";c.innerHTML="&#129302;<b><small>Bot</small></b>:<br>";c.appendChild(n);if(e===1){const f=document.createElement("div");f.innerHTML="<br/>"+h(t);c.appendChild(f)}google.charts.load("current",{m:["corechart"]});google.charts.setOnLoadCallback(l);function l(){var t=google.visualization.arrayToDataTable(o);var e={title:s,h:{position:"bottom"},p:a};i.appendChild(c);if(r==="bar"){var n=new google.visualization.BarChart(document.getElementById(u))}else if(r==="line"){var n=new google.visualization.LineChart(document.getElementById(u))}setTimeout(function(){n.draw(t,e);i.scrollTop=i.scrollHeight},400)}}function i(t){console.log(t);var e="";for(const o in t){var n=t[o];if(typeof n==="object"){n=i(n)}e+="<b>"+g(o)+"</b>: "+n+"<br/>"}return e.replace("<br/><br/><br/>","<br/>")}function g(t){try{const e=t.split(" ");const n=e.map(t=>{if(t.length===0){return t}const e=t[0].toUpperCase();const n=t.slice(1).toLowerCase();return e+n});const o=n.join(" ");return o.replace("_"," ")}catch{console.log("IP Not String");return""}}function K(t){let e=JSON.stringify(t);e=e.replace("\n","<br/>");return e}async function b(t){try{const n=await fetch(t);if(!n.ok){throw new Error(`Error: ${n.status} - ${n.statusText}`)}const o=await n.json();console.log("Fetched JSON\n\n"+JSON.stringify(o));return o}catch(e){console.error("An error occurred while fetching the data:",e);return null}}function m(t){const e=parseFloat(t);const n=parseInt(t);if(!isNaN(e)){if(e===n){return n}else{return e}}return t}function w(e,n,o){const r=[];var s;if(n.length===1){const a=n[0];for(let t=0;t<e.length;t++){const i=e[t];if(i.hasOwnProperty(a)){s=i[a];if(o==="number"){if(Array.isArray(s)){s=s.map(m)}else{s=m(s)}}else if(o==="str"){if(Array.isArray(s)){s=s.map(String)}else{s=s+""}}r.push(s)}}return r}else if(n.length>1){for(let t=0;t<e.length;t++){const i=e[t];const c=[];for(let t=0;t<n.length;t++){const a=n[t];if(i.hasOwnProperty(a)){s=i[a];if(t>0){if(o[t]==="number"){s=m(s)}else if(o[t]==="str"){s=s+""}}else if(t===0){s=s+""}c.push(s)}}r.push(c)}return r}else{console.log("memberNames not provided.");return null}}function h(t){var r='<div style="max-width: 350px; overflow-x: auto;">';r+='<table class="responsive-table">';t.forEach((t,o)=>{r+="<tr>";t.forEach((t,e)=>{var n;if(o===0){t=g(t);n="th"}else{n="td"}r+=`<${n}>${t}</${n}>`});r+="</tr>"});r+="</table></div>";return r}function k(n){const o=n.length;const r=n[0].length;const s=new Array(r);for(let t=0;t<r;t++){s[t]=new Array(o)}for(let e=0;e<o;e++){for(let t=0;t<r;t++){s[t][e]=n[e][t]}}return s}function _(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";const r=n.length;for(let t=0;t<e;t++){const s=Math.floor(Math.random()*r);o+=n.charAt(s)}return o}async function v(){const t=W(u);if(t===2){const e=J("user_input");if(e.trim()==="")return;N("main_button","&#8987;<b>Working..<b>");F("main_button");F("back_button");T(e);c++;E("usr",e);const n="langchain-gpt4";const o=j(u);const r=await C(e,n,o);c++;E("bot",r);$(r.replace(/\r/g,"<br/>").replace(/\n/g,"<br/>"))}setTimeout(function(){N("main_button","Send")},500);S("main_button");S("back_button")}function F(t){const e=document.getElementById(t);e.disabled=true}function S(t){const e=document.getElementById(t);e.disabled=false}async function C(t,e,n){const o="https://api.jugalbandi.ai/query-with-langchain-gpt4?";const r=new URLSearchParams({g:t+f});const s=new URLSearchParams({k:n});try{const i=await fetch(o+r+"&"+s);const c=await i.json();return c.answer}catch(a){console.error("Error fetching response:",a);return"😟 Sorry, there was an error processing your request."}}function L(e){const t=o.find(t=>t.t===e&t.u===u);const n=t?t.l:null;return n}function D(){const t=document.getElementById("chat_input_title");t.innerHTML="Select your answer.";const e=document.getElementById("chat_input_textbox");e.style.display="none";const n=document.getElementById("edgeContainer");n.style.display="block"}function M(){const t=document.getElementById("chat_input_title");t.innerHTML="";const e=document.getElementById("chat_input_textbox");e.style.display="none";const n=document.getElementById("edgeContainer");n.style.display="none"}function I(){const t=document.getElementById("chat_input_title");t.innerHTML="Type your query.<br/>  <br/> ";const e=document.getElementById("chat_input_textbox");e.style.display="block";const n=document.getElementById("edgeContainer");n.style.display="none"}function q(e){const t=o.filter(t=>t.u===e);return t}function B(t){var e="<br/><br/>";for(const n of t){e=e+"&#128073; <i>"+n.t+"</i><br/>"}return e}function A(t){const e=document.getElementById("edgeContainer");edgeContainer.innerHTML="";for(const n of t){const o=document.createElement("input");o.type="radio";o.name="radio_options";o.value=n.t;o.id="edge_"+n.u+"_"+n.l;const r=document.createElement("label");r.innerHTML=n.t+"</br>";r.setAttribute("for","edge_"+n.u+"_"+n.l);e.appendChild(o);e.appendChild(r)}}function P(){const t=document.querySelector('input[name="radio_options"]:checked');if(t){return t.value}else{return false}}function T(t){const e=document.querySelector(".chat-messages");const n=document.createElement("div");n.className="user-message";n.innerHTML=" &#128100;<small><b>You</small></b>:<br>"+t;e.appendChild(n);e.scrollTop=e.scrollHeight}function E(t,e){r=r+(x=c+',"'+t+'","'+e+'","'+R()+'"\n');console.log(x)}function R(){const t=new Date;const e=t.getFullYear();const n=String(t.getMonth()+1).padStart(2,"0");const o=String(t.getDate()).padStart(2,"0");const r=String(t.getHours()).padStart(2,"0");const s=String(t.getMinutes()).padStart(2,"0");const a=String(t.getSeconds()).padStart(2,"0");const i=String(t.getMilliseconds()).padStart(3,"0");return`${e}-${n}-${o} ${r}:${s}:${a}.${i}`}function $(t){const e=document.querySelector(".chat-messages");const n=document.createElement("div");n.className="bot-message";n.innerHTML="&#129302;<b><small>Bot</small></b>:<br>"+t;e.appendChild(n);e.scrollTop=e.scrollHeight}function N(t,e){const n=document.getElementById(t);n.innerHTML=e}function O(e){const t=n.find(t=>t.id===e);return t?t.t:null}function W(e){const t=n.find(t=>t.id===e);return t?t.o:null}function j(e){const t=n.find(t=>t.id===e);return t?t.i:null}function H(e){const t=n.find(t=>t.id===e);return t?t.ep:null}function J(t){try{var e=document.getElementById(t);if(e){var n=e.value;return n}else{throw new Error("Textarea element not found")}}catch(o){console.error("An error occurred:",o.message);return"An error occurred: "+o.message}}function U(t){const e=window.speechSynthesis;const n=new SpeechSynthesisUtterance(t);n.rate=1.3;e.speak(n)}function Y(){if(l.length>0){const e=l.pop();const n=O(e);const o=W(e);u=e;N("back_button","&#8987;<b>Working..<b>");setTimeout(function(){N("back_button","Back")},500);T("&#8624; Back");c++;E("usr","..");if(o===1||o===3){if(o===3){d()}D();const r=q(e);var t="";if(r.length>0){t=t+B(r);A(r)}$(n+t);S("main_button")}else if(o===2){I();$(n)}c++;E("bot",u)}}window.onload=function(){const n=document.getElementById("chat_input_box");const o=document.getElementById("chat_input_textbox");const r=document.getElementById("main_button");const s=document.getElementById("back_button");E("bot","start");$(O("start0"));setTimeout(function(){setTimeout(function(){const t=q("start");const e=B(t);$(O("start")+e);A(t);n.style.display="block";o.style.display="none";r.style.display="block";s.style.display="block"},2e3);$(O("start1"))},2e3)};